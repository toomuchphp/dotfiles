#!/usr/bin/env python3
from functools import partial

import neovim

from spacetea.neovim import handle_notification, handle_request


def main():
    nvim = neovim.attach('stdio')

    # set up PRC hooks
    nvim.run_loop(partial(handle_request, nvim),
                  partial(handle_notification, nvim))


if __name__ == '__main__':
    main()
